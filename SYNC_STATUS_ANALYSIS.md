# –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤

## üîç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ Supabase**:
   - `sync.saveStatus()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `{issue_key, team_id, status_id}` –≤ —Ç–∞–±–ª–∏—Ü—É `issue_statuses`
   - `onConflict: 'team_id,issue_key'` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–ø–∏—Å–µ–π
   - –ï—Å—Ç—å `set_by` –∏ `updated_at` –ø–æ–ª—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª

2. **Real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**:
   - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ `postgres_changes` —Å–æ–±—ã—Ç–∏—è —Ç–∞–±–ª–∏—Ü—ã `issue_statuses`
   - `handleStatusChange()` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç CustomEvent `'status-updated'` –≤ UI
   - –°–æ–±—ã—Ç–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫–æ–º–∞–Ω–¥—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

3. **–û—Ñ—Ñ–ª–∞–π–Ω –æ—á–µ—Ä–µ–¥—å**:
   - –ï—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ - —Å—Ç–∞—Ç—É—Å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `syncQueue`
   - –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Supabase

### ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´:

## 1Ô∏è‚É£ **–ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏**

### –°–∏—Ç—É–∞—Ü–∏—è:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A: –ú–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å TASK-1 —Å–æ "–ù–æ–≤–∞—è" –Ω–∞ "–í —Ä–∞–±–æ—Ç–µ" (14:30:00)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B: –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å TASK-1 —Å–æ "–ù–æ–≤–∞—è" –Ω–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω–∞" (14:30:05)

–í Supabase —Å upsert ON CONFLICT:
- –ó–∞–ø—Ä–æ—Å A –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º ‚Üí —Å—Ç–∞—Ç—É—Å = "–í —Ä–∞–±–æ—Ç–µ", set_by = userA, updated_at = 14:30:00
- –ó–∞–ø—Ä–æ—Å B –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤—Ç–æ—Ä—ã–º ‚Üí —Å—Ç–∞—Ç—É—Å = "–ó–∞–≤–µ—Ä—à–µ–Ω–∞", set_by = userB, updated_at = 14:30:05
- –ó–∞–ø—Ä–æ—Å A –≤—Å—ë –µ—â—ë –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ... ‚Üí —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ "–í —Ä–∞–±–æ—Ç–µ"

–†–ï–ó–£–õ–¨–¢–ê–¢: Race condition! –†–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ä–∞–∑–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –≤—Ä–µ–º–µ–Ω–Ω–æ.
```

### üö® **–†–ï–®–ï–ù–ò–ï –¢–†–ï–ë–£–ï–¢–°–Ø**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (version control)

---

## 2Ô∏è‚É£ **–ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö—Ä–∞–Ω–∏—Ç —Å–≤–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å**

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞ (–≤ content.js):
```javascript
async saveStatus(issueKey, statusId) {
  // 1. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –õ–û–ö–ê–õ–¨–ù–û –≤ IndexedDB/chrome.storage
  const data = await this.getIssueData(issueKey) || {};
  data.status = statusId;
  await this.saveIssueData(issueKey, data);
  
  // 2. –ü–æ—Ç–æ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ Supabase (–µ—Å–ª–∏ team mode)
  if (settings.syncMode === 'team' && window.syncManager) {
    await window.syncManager.saveStatus(issueKey, statusId);
  }
}
```

### –ü—Ä–æ–±–ª–µ–º–∞:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç TASK-1, –≤–∏–¥–∏—Ç —Å—Ç–∞—Ä—ã–π –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å "–ù–æ–≤–∞—è"
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –∏–∑–º–µ–Ω–∏–ª TASK-1 –≤ Supabase –Ω–∞ "–í —Ä–∞–±–æ—Ç–µ" ‚Üí real-time event –ø—Ä–∏—à—ë–ª A-—à–µ
–ù–æ A —É–∂–µ –≤–∏–¥–∏—Ç —Å–≤–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π "–ù–æ–≤–∞—è" ‚Üí UI –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è
```

### üö® **–†–ï–®–ï–ù–ò–ï –¢–†–ï–ë–£–ï–¢–°–Ø**: –°–ª—É—à–∞—Ç—å CustomEvent 'status-updated' –≤ content.js –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à

---

## 3Ô∏è‚É£ **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ –≤–µ—Ä—Å–∏–π**

### –°–∏—Ç—É–∞—Ü–∏—è:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A (Offline):
- –ú–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å TASK-1 –Ω–∞ "–í —Ä–∞–±–æ—Ç–µ" ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ syncQueue

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B (Online):
- –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç —Å—Ç–∞—Ç—É—Å TASK-1 –Ω–∞ "–ó–∞–≤–µ—Ä—à–µ–Ω–∞" ‚Üí —Å—Ä–∞–∑—É –≤ Supabase

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A (Reconnect):
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è ‚Üí –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è synced —Å–≤–æ–π —Å—Ç–∞—Ä—ã–π —Å—Ç–∞—Ç—É—Å "–í —Ä–∞–±–æ—Ç–µ"
- –í –ë–î —É–∂–µ "–ó–∞–≤–µ—Ä—à–µ–Ω–∞" (–≤–µ—Ä—Å–∏—è –≤—ã—à–µ) ‚Üí –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å!

–†–ï–ó–£–õ–¨–¢–ê–¢: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö B-–µ–≤–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è!
```

### üö® **–†–ï–®–ï–ù–ò–ï –¢–†–ï–ë–£–ï–¢–°–Ø**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø–µ—Ä–µ–¥ upsert

---

## 4Ô∏è‚É£ **–ù–µ—Ç UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞**

–ï—Å–ª–∏ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –Ω–µ —É–∑–Ω–∞–µ—Ç —á—Ç–æ –µ–≥–æ —Å—Ç–∞—Ç—É—Å –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –Ω–µ —É–∑–Ω–∞–µ—Ç —á—Ç–æ –µ–≥–æ —Å—Ç–∞—Ç—É—Å –ø–æ—Ç–µ—Ä—è–ª—Å—è
- –ù–µ—Ç –ª–æ–≥–∞/–∏—Å—Ç–æ—Ä–∏–∏ –∫—Ç–æ –º–µ–Ω—è–ª

---

## 5Ô∏è‚É£ **–ü—Ä–æ–±–ª–µ–º–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤**

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
- –ù–µ—Ç –º–µ—Ç–æ–¥–∞ `deleteStatus()` –≤ sync.js
- –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å ‚Üí —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ

### –°–∏—Ç—É–∞—Ü–∏—è:
```
A –æ—á–∏—Å—Ç–∏–ª —Å—Ç–∞—Ç—É—Å TASK-1
B –≤—Å—ë –µ—â—ë –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å –≤ Supabase
–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ A —É–≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å —Å–Ω–æ–≤–∞
```

---

## 6Ô∏è‚É£ **–ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∑–∞–¥–∞—á–∏**

### –¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞:
- –ö–æ–≥–¥–∞ user –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É ‚Üí –±–µ—Ä—ë—Ç –õ–û–ö–ê–õ–¨–ù–´–ô —Å—Ç–∞—Ç—É—Å
- –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ—Å—Ç—å –ª–∏ –±–æ–ª–µ–µ —Å–≤–µ–∂–∏–π –≤ Supabase

### –°–∏—Ç—É–∞—Ü–∏—è:
```
A –æ—Ç–∫—Ä—ã–ª TASK-1 ‚Üí –≤–∏–¥–∏—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å "–ù–æ–≤–∞—è" (–æ—Ç –≤—á–µ—Ä–∞)
B —Ç–æ–ª—å–∫–æ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª –≤ Supabase –Ω–∞ "–í —Ä–∞–±–æ—Ç–µ"
A –Ω–µ —É–∑–Ω–∞–µ—Ç –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ B-—è –ø–æ–∫–∞:
- –ù–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –ù–µ —Å—Ä–∞–±–∞—Ç–∏—Ç real-time —Å–æ–±—ã—Ç–∏–µ
```

---

## ‚úÖ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–û):

**1. –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤**

```sql
-- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ö–µ–º—É issue_statuses
ALTER TABLE issue_statuses ADD COLUMN version INT DEFAULT 1;
ALTER TABLE issue_statuses ADD COLUMN last_conflict_resolution TIMESTAMP;

-- –ò–Ω–¥–µ–∫—Å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
CREATE INDEX idx_issue_statuses_latest ON issue_statuses(team_id, issue_key, version DESC);
```

**–õ–æ–≥–∏–∫–∞ –≤ sync.js**:
```javascript
async saveStatus(issueKey, statusId) {
  // 1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –∏–∑ Supabase
  const { data: current } = await this.supabase
    .from('issue_statuses')
    .select('version, status_id')
    .eq('team_id', this.currentTeamId)
    .eq('issue_key', issueKey)
    .single();
  
  // 2. –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å
  if (current?.status_id === statusId) return { success: true };
  
  // 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º –≤–µ—Ä—Å–∏–∏
  const { error } = await this.supabase
    .from('issue_statuses')
    .upsert({
      issue_key: issueKey,
      team_id: this.currentTeamId,
      status_id: statusId,
      version: (current?.version || 0) + 1,
      set_by: user.id,
      updated_at: new Date().toISOString()
    }, {
      onConflict: 'team_id,issue_key'
    });
}
```

**2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à –ø—Ä–∏ real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö**

```javascript
// –í content.js
window.addEventListener('status-updated', async (event) => {
  const { issueKey, data } = event.detail;
  
  // –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à
  const localData = await this.getIssueData(issueKey) || {};
  localData.status = data.status_id;
  localData.lastSyncedVersion = data.version;
  await this.saveIssueData(issueKey, localData);
  
  // –û–±–Ω–æ–≤–∏—Ç—å UI –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞ —ç—Ç–∞ –∑–∞–¥–∞—á–∞
  if (this.currentIssueKey === issueKey) {
    this.updateCurrentIssueUI();
  }
});
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–ê–ñ–ù–û):

**3. –ó–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∏–∑ Supabase –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∑–∞–¥–∞—á–∏**

```javascript
// –í content.js extractAndSaveAllIssueData()
async extractAndSaveAllIssueData(issueKey) {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
  
  // –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ —Å–≤–µ–∂–∏–π –≤ Supabase
  if (window.syncManager?.hasTeam()) {
    const result = await window.syncManager.getStatus(issueKey);
    if (result?.success && result.data) {
      // –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –≤ Supabase —Å–≤–µ–∂–µ–µ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë
      if (result.data.version > (localData.version || 0)) {
        localData.status = result.data.status_id;
        localData.version = result.data.version;
        await this.saveIssueData(issueKey, localData);
      }
    }
  }
}
```

**4. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ deleteStatus()**

```javascript
// –í sync.js
async deleteStatus(issueKey) {
  if (!this.currentTeamId) return { success: false };
  
  try {
    const { error } = await this.supabase
      .from('issue_statuses')
      .delete()
      .eq('team_id', this.currentTeamId)
      .eq('issue_key', issueKey);
    
    if (error) throw error;
    
    console.log('üóëÔ∏è Status deleted:', issueKey);
    return { success: true };
  } catch (error) {
    console.error('‚ùå Failed to delete status:', error);
    return { success: false };
  }
}
```

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–£–õ–£–ß–®–ï–ù–ò–Ø):

**5. –î–æ–±–∞–≤–∏—Ç—å UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞**

```javascript
// –í UI –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:
// ‚ö†Ô∏è "–í–∞—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B"
// —Å –∫–Ω–æ–ø–∫–∞–º–∏: [–û—Å—Ç–∞–≤–∏—Ç—å –º–æ–π] [–ü—Ä–∏–Ω—è—Ç—å –∏—Ö]
```

**6. –ò—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤**

–£–∂–µ –µ—Å—Ç—å `audit_log` —Ç–∞–±–ª–∏—Ü–∞ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –ú–ê–¢–†–ò–¶–ê –ü–†–û–ë–õ–ï–ú:

| –ü—Ä–æ–±–ª–µ–º–∞ | –°—Ç–∞—Ç—É—Å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –†–µ—à–µ–Ω–∏–µ |
|----------|--------|------------|---------|
| Race condition –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º edit | ‚ùå –ù–ï –†–ï–®–ï–ù–û | CR√çTICO | –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –õ–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è real-time | ‚ùå –ù–ï –†–ï–®–ï–ù–û | ALTO | Event listener |
| –û—Ñ—Ñ–ª–∞–π–Ω –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç –Ω–æ–≤—ã–µ | ‚ùå –ù–ï –†–ï–®–ï–ù–û | CR√çTICO | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ |
| –ù–µ—Ç deleteStatus() –º–µ—Ç–æ–¥–∞ | ‚ùå –ù–ï –†–ï–®–ï–ù–û | MEDIO | –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ |
| –ù–µ —Å–∏–Ω—Ö—Ä. –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∑–∞–¥–∞—á–∏ | ‚ùå –ù–ï –†–ï–®–ï–ù–û | MEDIO | –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –ë–î |
| –ù–µ—Ç UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ | ‚ùå –ù–ï –†–ï–®–ï–ù–û | BAJO | UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |
| –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π | ‚è≥ –ß–ê–°–¢–ò–ß–ù–û | BAJO | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å audit_log |

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –ü–û–†–Ø–î–û–ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò:

1. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** (—Ä–µ—à–∏—Ç race conditions –∏ –æ—Ñ—Ñ–ª–∞–π–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã)
2. **Event listeners** –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞
3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏** –∑–∞–¥–∞—á–∏
4. **deleteStatus()** –º–µ—Ç–æ–¥
5. **UI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

