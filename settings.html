<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Jira Notes</title>
  <link rel="stylesheet" href="settings.css">
</head>
<body>

  <div class="container">
    <header class="page-header">
      <div>
        <h1>Jira Notes</h1>
        <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–º —Ä–∞–±–æ—Ç—ã, —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.</p>
      </div>
    </header>

    <div class="nav-tabs">
      <button class="nav-tab active" data-tab="sync">–û–±—â–∏–µ</button>
      <button class="nav-tab" data-tab="statuses">–°—Ç–∞—Ç—É—Å—ã</button>
      <button class="nav-tab" data-tab="fields">–ü–æ–ª—è –∑–∞–¥–∞—á–∏</button>
      <button class="nav-tab" data-tab="issuedata">–î–∞–Ω–Ω—ã–µ</button>
      <button class="nav-tab" data-tab="templates">–®–∞–±–ª–æ–Ω—ã</button>
    </div>

    <!-- Tab: –û–±—â–∏–µ (–±—ã–≤—à–∏–π –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è) -->
    <div class="tab-content active" id="syncTab">
      <div class="box">
        <div class="box-header">
          <h2>–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        </div>
        <div class="box-body">
          <div class="form-checkbox">
            <input type="checkbox" id="officeDetectionToggle" checked>
            <label for="officeDetectionToggle">
              <div>–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ñ–∏—Å–æ–≤</div>
              <div class="note">–í–∫–ª—é—á–∞–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –æ—Ñ–∏—Å–æ–≤ (–ì–æ–≥–æ–ª—å, –ü—É—à–∫–∏–Ω –∏ —Ç.–¥.) –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö Jira.</div>
            </label>
          </div>
          
          <div class="form-checkbox" style="margin-top: 12px;">
            <input type="checkbox" id="debugModeToggle">
            <label for="debugModeToggle">
              <div>–†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏</div>
              <div class="note">–í–∫–ª—é—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã Jira).</div>
            </label>
          </div>
        </div>
      </div>

      <div class="box">
        <div class="box-header">
          <h2>–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</h2>
        </div>
        <div class="box-body">
          <div style="display: flex; gap: 16px;">
            <div class="mode-button" data-mode="personal">
              <input type="radio" name="syncMode" id="modePersonal" value="personal" checked>
              <label for="modePersonal">
                <strong>üë§ –õ–∏—á–Ω—ã–π —Ä–µ–∂–∏–º</strong>
                <div class="note">–í—Å–µ –∑–∞–º–µ—Ç–∫–∏ –∏ —Å—Ç–∞—Ç—É—Å—ã —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</div>
              </label>
            </div>
            <div class="mode-button" data-mode="team">
              <input type="radio" name="syncMode" id="modeTeam" value="team">
              <label for="modeTeam">
                <strong>üë• –ö–æ–º–∞–Ω–¥–Ω—ã–π —Ä–µ–∂–∏–º</strong>
                <div class="note">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–º–µ—Ç–æ–∫ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å –∫–æ–º–∞–Ω–¥–æ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</div>
              </label>
            </div>
          </div>
        </div>
      </div>

      <div id="syncSettings" style="display: none;">
        <!-- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è -->
        <div class="box" id="authBox">
          <div class="box-header">
            <h3>üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
          </div>
          <div class="box-body">
            <div id="notAuthenticatedSection">
              <p class="note" style="margin-bottom: 16px;">–î–ª—è —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç Supabase.</p>
              
              <div class="form-group">
                <label for="authEmail">Email</label>
                <input type="email" id="authEmail" class="form-control" placeholder="your@email.com">
              </div>
              
              <div class="form-group">
                <label for="authPassword">–ü–∞—Ä–æ–ª—å</label>
                <input type="password" id="authPassword" class="form-control" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤">
              </div>
              
              <div id="authMessage" class="auth-message" style="display: none;"></div>
            </div>
            
            <div id="authenticatedSection" style="display: none;">
              <div class="user-info">
                <div class="user-avatar">üë§</div>
                <div>
                  <div class="user-email" id="userEmailDisplay"></div>
                  <div class="user-status">‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</div>
                </div>
              </div>
            </div>
          </div>
          <div class="box-footer">
            <div id="notAuthenticatedButtons">
              <button class="btn btn-secondary" id="signUpBtn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
              <button class="btn btn-primary" id="signInBtn">–í–æ–π—Ç–∏</button>
            </div>
            <div id="authenticatedButtons" style="display: none;">
              <button class="btn btn-danger" id="signOutBtn">–í—ã–π—Ç–∏</button>
            </div>
          </div>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π -->
        <div class="box" id="teamBox" style="display: none;">
          <div class="box-header">
            <h3>üë• –ö–æ–º–∞–Ω–¥–∞</h3>
          </div>
          <div class="box-body">
            <div id="noTeamSection">
              <p class="note" style="margin-bottom: 16px;">–í—ã –µ—â–µ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç–µ –≤ –∫–æ–º–∞–Ω–¥–µ. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π.</p>
              
              <div class="form-group">
                <label for="newTeamName">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É</label>
                <input type="text" id="newTeamName" class="form-control" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã">
              </div>
              
              <div style="margin: 20px 0; text-align: center; color: var(--color-fg-muted);">–∏–ª–∏</div>
              
              <div class="form-group">
                <label for="joinTeamId">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–∞–Ω–¥–µ</label>
                <input type="text" id="joinTeamId" class="form-control" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ Team ID">
                <p class="note">–ü–æ–ª—É—á–∏—Ç–µ Team ID –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã</p>
              </div>
            </div>
            
            <div id="hasTeamSection" style="display: none;">
              <div class="team-info">
                <div class="team-name" id="currentTeamName"></div>
                <div class="team-id">ID: <code id="currentTeamId"></code> 
                  <button class="btn-copy" id="copyTeamIdBtn" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">üìã</button>
                </div>
                <div class="team-members" id="teamMembersList"></div>
              </div>
            </div>
          </div>
          <div class="box-footer">
            <div id="noTeamButtons">
              <button class="btn btn-secondary" id="joinTeamBtn">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
              <button class="btn btn-primary" id="createTeamBtn">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É</button>
            </div>
            <div id="hasTeamButtons" style="display: none;">
              <button class="btn btn-secondary" id="leaveTeamBtn">–ü–æ–∫–∏–Ω—É—Ç—å –∫–æ–º–∞–Ω–¥—É</button>
            </div>
          </div>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ -->
        <div class="box" id="syncStatusBox" style="display: none;">
          <div class="box-header">
            <h3>üìä –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</h3>
          </div>
          <div class="box-body">
            <div class="sync-stats" id="syncStats">
              <div class="stat-item">
                <div class="stat-label">–ó–∞–º–µ—Ç–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ</div>
                <div class="stat-value" id="notesCount">‚Äî</div>
              </div>
              <div class="stat-item">
                <div class="stat-label">–°—Ç–∞—Ç—É—Å–æ–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ</div>
                <div class="stat-value" id="statusesCount">‚Äî</div>
              </div>
              <div class="stat-item">
                <div class="stat-label">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã</div>
                <div class="stat-value" id="membersCount">‚Äî</div>
              </div>
              <div class="stat-item">
                <div class="stat-label">–í –æ—á–µ—Ä–µ–¥–∏ –Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é</div>
                <div class="stat-value" id="queueCount">‚Äî</div>
              </div>
            </div>
            
            <div id="syncStatus" class="status-indicator" style="margin-top: 16px;">
              <span class="status-dot" id="syncStatusDot"></span>
              <span id="syncStatusText">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
            </div>
          </div>
          <div class="box-footer">
            <button class="btn btn-secondary" id="refreshStatsBtn">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
            <button class="btn btn-primary" id="forceSyncBtn">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab: –°—Ç–∞—Ç—É—Å—ã -->
    <div class="tab-content" id="statusesTab">
      <div class="two-column-layout">
        <div class="box">
          <div class="box-header">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏</h2>
          </div>
          <div class="box-body">
            <p class="note" style="margin-bottom: 16px;">–í—ã –º–æ–∂–µ—Ç–µ —É–¥–∞–ª—è—Ç—å –ª—é–±—ã–µ —Å—Ç–∞—Ç—É—Å—ã. –ö–Ω–æ–ø–∫–∞ "–°–±—Ä–æ—Å–∏—Ç—å" –≤–µ—Ä–Ω–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–∞–±–æ—Ä.</p>
            <div class="status-list" id="statusesList">
              <!-- Statuses will be injected by JS -->
            </div>
          </div>
          <div class="box-footer">
             <button class="btn btn-secondary" id="resetDefaultsBtn">–°–±—Ä–æ—Å–∏—Ç—å –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º</button>
             <button class="btn btn-danger" id="deleteAllStatusesBtn">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ</button>
          </div>
        </div>
        <div class="box">
          <div class="box-header">
            <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å</h3>
          </div>
          <div class="box-body">
            <div class="form-group">
              <label for="newStatusName">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞</label>
              <input type="text" id="newStatusName" class="form-control" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä: –û–∂–∏–¥–∞–µ—Ç –æ—Ç–≤–µ—Ç–∞" maxlength="30">
            </div>
            <div class="form-group">
              <label for="newStatusEmoji">–≠–º–æ–¥–∑–∏</label>
              <input type="text" id="newStatusEmoji" class="form-control" placeholder="üîµ" maxlength="2" style="width: 60px;">
            </div>
            <div class="form-group">
              <label for="newStatusColor">–¶–≤–µ—Ç —Å—Ç–∞—Ç—É—Å–∞</label>
              <input type="color" id="newStatusColor" value="#3b82f6">
            </div>
            <div class="form-group">
              <label>–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</label>
              <div id="statusPreview" class="status-item-preview" style="padding: 12px; border: 1px solid var(--color-border-muted); border-radius: 6px;">
                <span id="previewEmoji" style="font-size: 16px;"></span>
                <div id="previewDot" class="status-dot"></div>
                <span id="previewName"></span>
              </div>
            </div>
          </div>
          <div class="box-footer">
            <button class="btn btn-primary" id="addStatusBtn">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab: –ü–æ–ª—è –∑–∞–¥–∞—á–∏ -->
    <div class="tab-content" id="fieldsTab">
      <div class="box">
        <div class="box-header">
          <h2>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —É–º–Ω—ã—Ö –ø–æ–ª–µ–π</h2>
        </div>
        <div class="box-body">
          <p class="note" style="margin-bottom: 20px;">
            –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª–µ–π –∑–∞–¥–∞—á–∏. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–≤–æ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø–æ–ª–µ –∏–∑ —Å–ø–∏—Å–∫–∞.
          </p>

          <!-- –§–ò–û -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">üë§ –§–ò–û</h3>
            <div class="field-priority-list" id="fullnamePriority">
              <div class="field-priority-item" draggable="true" data-field="customfield_10212">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–§–ò–û –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</span>
                  <span class="field-id">customfield_10212</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="composite:10587+10588+10589">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">2</span>
                <div class="field-info">
                  <span class="field-label">–ö–æ–º–ø–æ–∑–∏—Ç (–§–∞–º–∏–ª–∏—è + –ò–º—è + –û—Ç—á–µ—Å—Ç–≤–æ)</span>
                  <span class="field-id">customfield_10587 + 10588 + 10589</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="regex:summary">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">3</span>
                <div class="field-info">
                  <span class="field-label">–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è (regex)</span>
                  <span class="field-id">summary</span>
                </div>
              </div>
            </div>
          </div>

          <!-- –ê–¥—Ä–µ—Å -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">üìç –ê–¥—Ä–µ—Å</h3>
            <div class="field-priority-list" id="addressPriority">
              <div class="field-priority-item" draggable="true" data-field="customfield_11120">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–û—Ñ–∏—Å –∏–ª–∏ –ê–¥—Ä–µ—Å</span>
                  <span class="field-id">customfield_11120</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="customfield_10994">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">2</span>
                <div class="field-info">
                  <span class="field-label">–ê–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞</span>
                  <span class="field-id">customfield_10994</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="composite:11138+10560">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">3</span>
                <div class="field-info">
                  <span class="field-label">–ö–æ–º–ø–æ–∑–∏—Ç (–ì–ï–û + –ì–æ—Ä–æ–¥)</span>
                  <span class="field-id">customfield_11138 + 10560</span>
                </div>
              </div>
            </div>
          </div>

          <!-- –¢–µ–ª–µ–≥—Ä–∞–º -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">üì± –¢–µ–ª–µ–≥—Ä–∞–º</h3>
            <div class="field-priority-list" id="telegramPriority">
              <div class="field-priority-item" draggable="true" data-field="customfield_11062">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–¢–µ–ª–µ–≥—Ä–∞–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</span>
                  <span class="field-id">customfield_11062</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="customfield_11087">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">2</span>
                <div class="field-info">
                  <span class="field-label">–í–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º</span>
                  <span class="field-id">customfield_11087</span>
                </div>
              </div>
            </div>
          </div>

          <!-- –¢–µ–ª–µ—Ñ–æ–Ω -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">‚òéÔ∏è –¢–µ–ª–µ—Ñ–æ–Ω</h3>
            <div class="field-priority-list" id="phonePriority">
              <div class="field-priority-item" draggable="true" data-field="customfield_11121">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –∫—É—Ä—å–µ—Ä–∞</span>
                  <span class="field-id">customfield_11121</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="customfield_11087">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">2</span>
                <div class="field-info">
                  <span class="field-label">–í–∞—à —Ç–µ–ª–µ–≥—Ä–∞–º (–º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω)</span>
                  <span class="field-id">customfield_11087</span>
                </div>
              </div>
            </div>
          </div>

          <!-- –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">üíª –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</h3>
            <div class="field-priority-list" id="equipmentPriority">
              <div class="field-priority-item" draggable="true" data-field="customfield_11122">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</span>
                  <span class="field-id">customfield_11122</span>
                </div>
              </div>
              <div class="field-priority-item" draggable="true" data-field="summary">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">2</span>
                <div class="field-info">
                  <span class="field-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (fallback)</span>
                  <span class="field-id">summary</span>
                </div>
              </div>
            </div>
          </div>

          <!-- –ü–µ—Ä–∏—Ñ–µ—Ä–∏—è -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">üñ±Ô∏è –ü–µ—Ä–∏—Ñ–µ—Ä–∏—è</h3>
            <div class="field-priority-list" id="peripheralsPriority">
              <div class="field-priority-item" draggable="true" data-field="customfield_11123">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–ü–µ—Ä–∏—Ñ–µ—Ä–∏—è</span>
                  <span class="field-id">customfield_11123</span>
                </div>
              </div>
            </div>
          </div>

          <!-- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ -->
          <div class="smart-field-config-group">
            <h3 class="field-category-title">üìù –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</h3>
            <div class="field-priority-list" id="descriptionPriority">
              <div class="field-priority-item" draggable="true" data-field="summary">
                <span class="drag-handle">‚ãÆ‚ãÆ</span>
                <span class="priority-number">1</span>
                <div class="field-info">
                  <span class="field-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</span>
                  <span class="field-id">summary</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="box-footer">
          <button class="btn btn-secondary" id="resetFieldPrioritiesBtn">–°–±—Ä–æ—Å–∏—Ç—å –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º</button>
          <button class="btn btn-primary" id="saveFieldPrioritiesBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã</button>
        </div>
      </div>
    </div>

    <!-- Tab: –î–∞–Ω–Ω—ã–µ -->
    <div class="tab-content" id="issuedataTab">
      <div class="box">
        <div class="box-header">
          <h2>–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º</h2>
        </div>
        <div class="box-body">
          <p class="note" style="margin-bottom: 16px;">–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ä—Ç–æ—á–µ–∫ Jira. –û–Ω–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</p>
          <div class="table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>–ö–æ–¥ —ç–ª–µ–º–µ–Ω—Ç–∞</th>
                  <th>–ì–ï–û</th>
                  <th>–î–∞—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è</th>
                  <th>–û—Ñ–∏—Å –∏–ª–∏ –ê–¥—Ä–µ—Å</th>
                </tr>
              </thead>
              <tbody id="issues-table-body">
                <!-- Rows will be injected by JS -->
              </tbody>
            </table>
          </div>
        </div>
        <div class="box-footer">
          <button class="btn btn-secondary" id="exportAllIssuesBtn">–≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö</button>
          <button class="btn btn-danger" id="deleteAllIssuesBtn">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ</button>
        </div>
      </div>
    </div>

    <!-- Tab: –®–∞–±–ª–æ–Ω—ã -->
    <div class="tab-content" id="templatesTab">
      <div class="box">
        <div class="box-header">
          <h2>üìù –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —à–∞–±–ª–æ–Ω–∞ –∫–æ–ø–∏–ø–∞—Å—Ç—ã</h2>
        </div>
        <div class="box-body">
          <div class="template-help-section">
            <h4>üí° –£–º–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã</h4>
            <p>
              –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–º–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –í—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–ª–µ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏.
            </p>
            <div class="smart-placeholders-grid">
              <div class="placeholder-chip">
                <span>üë§</span>
                <code>{{–§–ò–û}}</code>
                <span class="placeholder-desc">- –ü–æ–ª–Ω–æ–µ –∏–º—è</span>
              </div>
              <div class="placeholder-chip">
                <span>üìç</span>
                <code>{{–ê–î–†–ï–°}}</code>
                <span class="placeholder-desc">- –ê–¥—Ä–µ—Å –æ—Ñ–∏—Å–∞</span>
              </div>
              <div class="placeholder-chip">
                <span>üì±</span>
                <code>{{–¢–ï–õ–ï–ì–†–ê–ú}}</code>
                <span class="placeholder-desc">- Telegram</span>
              </div>
              <div class="placeholder-chip">
                <span>‚òéÔ∏è</span>
                <code>{{–¢–ï–õ–ï–§–û–ù}}</code>
                <span class="placeholder-desc">- –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</span>
              </div>
              <div class="placeholder-chip">
                <span>üíª</span>
                <code>{{–û–ë–û–†–£–î–û–í–ê–ù–ò–ï}}</code>
                <span class="placeholder-desc">- –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</span>
              </div>
              <div class="placeholder-chip">
                <span>üñ±Ô∏è</span>
                <code>{{–ü–ï–†–ò–§–ï–†–ò–Ø}}</code>
                <span class="placeholder-desc">- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</span>
              </div>
              <div class="placeholder-chip">
                <span>üìù</span>
                <code>{{–°–û–î–ï–†–ñ–ê–ù–ò–ï}}</code>
                <span class="placeholder-desc">- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</span>
              </div>
            </div>
            <div class="template-example-wrapper" style="margin-top: 16px;">
              <strong>‚ö° –ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞:</strong>
              <pre class="template-example">
–î–æ–±—Ä—ã–π –¥–µ–Ω—å.
                
–ú–µ–Ω—è –∑–æ–≤—É—Ç {{–§–ò–û}}, —è —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä.

–Ø –ø–æ–ª—É—á–∏–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–µ–±–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏. –í –∑–∞–∫–∞–∑–µ —É–∫–∞–∑–∞–Ω–æ: {{–û–ë–û–†–£–î–û–í–ê–ù–ò–ï}}{{–ü–ï–†–ò–§–ï–†–ò–Ø}}

–û—Ç–ø—Ä–∞–≤–∫–∞ –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π –°–î–≠–ö.  –ü–æ–¥—Å–∫–∞–∂–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω –∞–¥—Ä–µ—Å –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏: {{–ê–î–†–ï–°}} / {{–¢–ï–õ–ï–§–û–ù}} ?
              </pre>
            </div>
          </div>

          <div class="form-group">
            <label for="copypasteTemplate" class="template-label">
              <button type="button" class="btn btn-secondary small-btn" id="insertPlaceholderBtn">+ –í—Å—Ç–∞–≤–∏—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä</button>
            </label>
            <textarea id="copypasteTemplate" class="form-control template-textarea" rows="15" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–º–Ω—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤—ã—à–µ..."></textarea>
            <p class="note template-note">üí° –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞. –°—Ç—Ä–æ–∫–∏ —Å –ø—É—Å—Ç—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω—ã.</p>
          </div>
        </div>
        <div class="box-footer">
          <div style="display: flex; gap: 8px; margin-right: auto;">
            <button class="btn btn-secondary" id="loadExampleBtn">üìÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä</button>
            <button class="btn btn-secondary" id="clearTemplateBtn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>
          <button class="btn btn-primary" id="saveTemplateBtn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω</button>
        </div>
      </div>
    </div>

  </div>

  <!-- Toast Notification Container -->
  <div id="toast" class="toast"></div>

  <script src="supabase.min.js"></script>
  <script src="sync.js"></script>
  <script src="settings.js" type="module"></script>
</body>
</html>

